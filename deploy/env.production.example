# Production Environment Configuration for AI-Vision-Chatbot
# Copy this file to .env and fill in your values

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
APP_NAME=Vision ChatBot Agent
APP_VERSION=1.0.0
DEBUG=False
SECRET_KEY=your-super-secret-key-change-this-in-production
ALLOWED_ORIGINS=http://eye.som.uci.edu:3000,http://eye.som.uci.edu:8888

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/visiondb
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# IMPORTANT: Generate a strong password using: openssl rand -base64 32
# This is REQUIRED for security compliance
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# ============================================================================
# CHROMADB CONFIGURATION
# ============================================================================
CHROMA_HOST=chromadb
CHROMA_PORT=8000
CHROMA_PERSIST_DIR=/data/chromadb

# ============================================================================
# LLM CONFIGURATION - LOCAL MODEL (2B Parameters)
# ============================================================================
# Use "local" for self-hosted LLM, "openai" for OpenAI API
LLM_PROVIDER=local

# OpenAI Configuration (optional, only if using OpenAI)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Local LLM Configuration (for self-hosted model)
LOCAL_LLM_BASE_URL=http://llm:80
LOCAL_LLM_MODEL=microsoft/phi-2
LOCAL_LLM_DEVICE=cpu
LOCAL_LLM_MAX_LENGTH=4096
LOCAL_LLM_API_KEY=EMPTY

# Hugging Face Token (required for downloading models)
HUGGINGFACE_TOKEN=your_huggingface_token_here

# ============================================================================
# EMBEDDING CONFIGURATION
# ============================================================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DEVICE=cpu
EMBEDDING_BATCH_SIZE=64

# ============================================================================
# RAG CONFIGURATION
# ============================================================================
RETRIEVAL_K=5
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TEMPERATURE=0.7
MAX_TOKENS=2000
TOP_P=0.9

# ============================================================================
# PUBMED CONFIGURATION
# ============================================================================
PUBMED_API_KEY=your_ncbi_api_key_here
PUBMED_EMAIL=your.email@example.com
PUBMED_MAX_RESULTS=10000
PUBMED_BATCH_SIZE=100

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
UPLOAD_DIR=/data/uploads
MAX_UPLOAD_SIZE=50000000
ALLOWED_EXTENSIONS=pdf,txt,doc,docx,png,jpg,jpeg

# ============================================================================
# STORAGE PATHS
# ============================================================================
PUBMED_PDF_DIR=/data/pubmed_pdfs
PROCESSED_DATA_DIR=/data/processed
LOGS_DIR=/data/logs

# ============================================================================
# CELERY CONFIGURATION
# ============================================================================
# Note: Celery URLs will automatically use REDIS_PASSWORD from above
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=3600

# ============================================================================
# AUTHENTICATION & JWT
# ============================================================================
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ENABLED=True
CORS_ALLOW_CREDENTIALS=True

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# MONITORING
# ============================================================================
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# ============================================================================
# OCR CONFIGURATION
# ============================================================================
TESSERACT_PATH=/usr/bin/tesseract
TESSERACT_LANG=eng

# ============================================================================
# PATHWAY ANALYSIS
# ============================================================================
PATHWAY_DATABASES=KEGG,Reactome,GO_BP,GO_MF,GO_CC
PATHWAY_P_VALUE_THRESHOLD=0.05
PATHWAY_FDR_METHOD=fdr_bh

# ============================================================================
# MSIGDB CONFIGURATION
# ============================================================================
MSIGDB_HUMAN_DB_PATH=/data/msigdb/msigdb_v2025.1.Hs.db
MSIGDB_MOUSE_DB_PATH=/data/msigdb/msigdb_v2025.1.Mm.db
MSIGDB_P_VALUE_THRESHOLD=0.05
MSIGDB_FDR_METHOD=fdr_bh
MSIGDB_MIN_GENE_SET_SIZE=5
MSIGDB_MAX_GENE_SET_SIZE=500

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@visionchatbot.com

# ============================================================================
# SENTRY (Optional - for error tracking)
# ============================================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

